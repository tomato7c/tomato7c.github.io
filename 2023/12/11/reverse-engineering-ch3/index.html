<!DOCTYPE html>
<html lang="en" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords" content="" />
  <meta name="author" content="John Doe" />
  <meta name="description" content="" />
  
  
  <title>
    
      逆向工程.CH3.计分板原则.md 
      
      
      |
    
     Hexo
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css" />
  <!-- 代码块风格 -->
  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="/plugins/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="/plugins/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="/plugins/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="/images/avatar.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">Oranges</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="/plugins/mathjax/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="/plugins/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">逆向工程.CH3.计分板原则.md</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
          2023-12-11 14:00:00
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags mr-10" title="Tags"></i>
                
                <span class="span--tag mr-8">
                  <a href="/tags/reading/" title="reading">
                    #reading
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <p>午餐过后，电话铃声响起。你是妈妈打来的电话。她刚去看医生，你从她说话的声音就听得出来，她很害怕。最后，她终于告诉你到底是怎么回事：她的血压突然飙升，打到危险程度；药物效果有限，她必须赶快减重，而且不能复胖。</p>
<p>「我马上过去。」你对她说，随即抓起外套。</p>
<p>到了妈妈家之后，她一见到你就情绪崩溃，说她需要你。她没有足够的意志力可以独自减重，你可以帮帮她吗。</p>
<p>你做的第一件事，就是检查橱柜。蓝莓松糕、加了奶油的爆米花、白面包。你把这些东西都丢进垃圾袋里。接下来是冰箱。你不敢相信自己的眼睛：切片萨拉米肠、爆量的冰淇淋，还有放太久的起司蛋糕。你又装满一袋垃圾，接着是第三个。</p>
<p>把垃圾统统丢出去之后，你掏出手机，开始找距离最近的健身房。这时候，你突然想到：健身房虽好，但私人健身教练更好。你订了一堂课，然后又打电话多订了几堂。</p>
<p>改变饮食，增加运动。你觉得很乐观，充满信心。你抱了抱妈妈，在她的额头上亲吻了一下。「一定不会有问题的。」你向她保证。</p>
<p>一个月后，你陪着妈妈坐在医生诊间里。医生对你们说，你妈妈已经减掉几公斤的体重，血压也有进步。进步速度虽然缓慢，但明显可见。</p>
<p>你转头看向你妈。它应该感到自豪，至少也该松一口气。不过，你一眼就看出她完全没有这样的感觉，还是害怕不已。于是你说：「我们刚调整了她的饮食，而且她现在一个星期运动三次。我们还有什么可以做的吗？」</p>
<p>「有个方法。」医生答道。那是一种在临床试验中表现相当好的疗法，初期结果显示，它能够加速减重、降低压力，也能预防复胖。</p>
<p>最棒的是，还完全没有副作用。</p>
<p>你虽然不太想问，但还是不得不开口：「这种治疗要多少钱？」</p>
<p>医生微微一笑。「一毛钱都不用。」她回答道，同时拉开抽屉，「就是这个。」</p>
<h2 id="如何只用单一指标建立商业帝国"><a href="#如何只用单一指标建立商业帝国" class="headerlink" title="如何只用单一指标建立商业帝国"></a>如何只用单一指标建立商业帝国</h2><p>医生推荐的到底是什么？不是一种医疗程序，也不是实验药物，或是新的饮食法活运动方式，而是一种被许多高绩效企业当成秘密武器的简单做法。</p>
<p>有家公司因此生意兴隆，就是豪华连锁酒店丽思卡尔顿。你如果不知道丽思卡尔顿有多出色，那么你只需要知道：2019年，丽思卡尔顿在市调公司君迪（JD Power and Associates）衡量的每个项目都获得最高分，更连续五年赢得最佳豪华酒店年度奖项。</p>
<p>丽思卡尔顿为什么那么杰出？古典建筑加上现代装潢这么引人注目的组合无疑是部分原因。不过，当顾客被问到为什么喜欢在此留宿，经常会提到另一个原因：不同凡响的顾客服务。</p>
<p>你不禁纳闷，什么样的顾客服务能让人甘愿付出一晚上千美元的住宿费？我自己也曾感到疑惑，结果在不久之前获得找出答案的机会。</p>
<p>2018年，我带着家人住进开曼群岛的丽丝卡尔顿酒店。他们有许多服务商的巧思都相当迷人，但相对于其他饭店，其实并没有什么太特别之处。真正在几年后还让我难忘的时刻，发生在住宿的最后一天。</p>
<p>服务人员已来到房间准备提行李了，但我们根本还没准备好，衣服散落整个房间。我们带着歉意的说只要10分钟，盼望他会愿意等我们。不过，他没有在房间外面等着，也没说晚点再来，而是做出我们没预期到的行为：他开始帮我们打包行李，甚至还找来同事，把家具拉开看看有没有我孩子的玩具掉在里面（结果还真的有！）。</p>
<p>后来我才发现，这其实不是我们的独特体验。只要上网搜寻「丽思卡尔顿的顾客故事」，你就会发现，这家酒店会在顾客生日当天准备令人惊喜的玫瑰花瓣浴、在提出修缮需求的房间里留下巧克力扳手，也会把儿童忘在酒店的动物玩偶寄还，还会附上那些玩偶在放店里各个地点享受延长假期的照片，包括泳池、水疗中心，以及健身房。</p>
<p>丽思卡尔顿怎么会这么擅长顾客服务？方法就是持续不断地追踪绩效指标。每一家酒店的管理团队都会监控一大串数字，包括登记入住的等待时间、预先订房，还有员工满意度。不过，丽思卡尔顿的全体工作人员更是会对某项指标如同着魔般密切监控。不是饭店的财务状况，也不是顾客满意度。</p>
<p>顾客在丽思卡尔顿酒店退房离开之后，会在24小时内收到一封电子邮件，询问他们有多愿意向朋友与同事推荐这家酒店（市场调查人员把这个指标称为「净推荐值」）。丽思卡尔顿发现，净推荐值指标才是真正的重点所在。只要在这个项目得高分，就表示你不知让顾客获得满意的住宿体验，而且还创造了狂热的粉丝。丽思卡尔顿这么教导员工：非凡的顾客服务不只让顾客感到满意，还会促使他们向自己社交圈里的成员盛赞这家酒店。</p>
<p>要怎么做，才能够激发这样的热情？答案是借着超越顾客的「明确要求」而应他们「没有表达出来的需求」。</p>
<p>回应明确要求，就是对问题进行表面上的理解，并给与相应的回答。</p>
<p>几点可以登记入住？下午四点。</p>
<p>饭店有咖啡厅吗？ 有。</p>
<p>我找不到我的泳镜，你们有看到吗？抱歉，没有看到。</p>
<p>这些回答绝对足够，也都正确无误，但任何一个丽思卡尔顿的员工都会告诉你，这些回答其实错过了珍贵的机会。</p>
<p>要应顾客没有表达出来的需求，必须思考这个问题为什么会被提出来。宾客希望解决什么潜在的需求？透过这样的角度来聆听，能够促使丽思卡尔顿的员工以更具同理心的方式回应顾客，隐私显得不同于其他连锁酒店。</p>
<p>几点可以登记入住？下午四点。您的班机会提早到吗？如果您想要的话，我可以帮您安排提早入住。</p>
<p>饭店有咖啡厅吗？有，需要我把菜单传给您吗？</p>
<p>我找不到我的泳镜，你们有看到吗？先生，我没有看到，需要我帮您买一副新的吗？</p>
<p>借着应没有表达出来的需求，丽思卡尔顿的员工因此能令顾客感到惊讶，从而造成令人难忘的服务与爆表的净推荐值。</p>
<p>这样的结果极为引人注意。不只是因为丽思卡尔顿经常在豪华酒店排行榜登上冠军，而是因为丽思卡尔顿的员工证明了聚焦于特定衡量标准，能够造就出多么非比寻常的成果。</p>
<p>我们一旦把行为连接于指标，就会产生强而有力的效果。而本章要回答的问题，就是：为什么？</p>
<h2 id="计分板的优点"><a href="#计分板的优点" class="headerlink" title="计分板的优点"></a>计分板的优点</h2><p>唯指标马首是瞻，丽思卡尔顿不是唯一这样做的企业。当今企业都充斥着资料，现在的高管只要点几下鼠标，就能看到实时营收数据以及顾客的反馈；行销主管可以追踪网站造访人数与转换率；人力资源部门负责人领导者可以监控招聘人数与员工留任率。</p>
<p>企业领袖如此着迷于关键绩效指标（KPIs）是有原因的。而且，不只是因为能让公司更好掌握具体成就，还因为衡量能够带来进步。采用哪种指标，就自然而然会更加关注该指标，致力追求最佳化。因此，能否辨认正确的指标，造成的差异可能会是持续不断的成长，伙食最终破产倒闭。</p>
<p>不只有企业能从指标的力量当中获益，个人如果希望塑造自己的行为，也可以善加利用。一下充满说服力的案例能让人知道，正确的指标在任何领域都是自我提升最有价值，也是最没有被充分利用的贡献者。</p>
<p>单看饮食就行了。本章一开始的故事中的医生建议你妈妈采用的疗法是什么呢？饮食日记。凯撒医疗机构的医疗专家进行了一项一千七百人的临床试验，发现只是单纯要求节食者记录他们吃下哪些食物，就比其他采用同样疗法但没有记录饮食内容的对照组，减掉了双倍的体重！</p>
<p>追踪记录为什么具有如此强大的效果？因为这会促使节食者反省自己的饮食选择，并且让他们清晰看到自己的热量摄取。不过，有用的不只是回顾过去的选择，追踪记录对于未来决定的影响更为重要。</p>
<p>我在忙碌的职场人士身上观察过类似效果。在我的职业辅导课程上，最早邀请客户做的其中一项练习，就是连续几日追踪记录工作的时间分配，以便客观看待他们怎么度过一周。然后一起坐下来监视记录结果，这么做总是深具启发性。我们每次一定会发现有些任务已不再有用，也有些活动占用太多时间。</p>
<p>不过，这项「客观」联系其实在过程中就会变得不客观：单是记录自己的时间运用状态，就会影响我们做出的选择。毕竟，如果只有你的浏览器历史记录知道你浪费30分钟看youtube，对你不会造成太大的心理压力；但如果你必须在时间记录表中报告这项行为，对于这个选择的考虑想必会谨慎得多。一旦知道你自己（或是你的绩效教练）会在事后分析你的行为，观看影片带来的乐趣就会显得没那么吸引人，而有助于你做出比较明智的长期决定。</p>
<p>适当的衡量标准也能揭露浪费掉的努力。你一旦开始搜集绩效指标，对于目标结果没有贡献的一切元素也就显得无法忽视。接受我辅导的客户当中，有不少人都从原本在大组织里工作转换到创办小型企业，这些客户都注意到自己看待会议的态度转变了：以前只是不太喜欢长时间的大会议，现在对于花费几小时和同事说话却感到强烈厌恶。</p>
<p>为什么会有这样的变化？创业者对于驱动自身企业的指标极为敏感。一旦忽略这些指标，将会付出财务损失的代价。举行立意良善的会议随有其必要，但时间冗长且缺乏焦点的会议极少对创新、执行与获利产生有意义的贡献。</p>
<p>相对于公司本身，有多少员工会追踪对自己职业生涯具有关键重要的指标？当然，大多数组织文化都把会议视为不可避免，不论员工有多么明确意识到那些会议并不是有效的时间运用之道。尽管如此，我们还是回避不了以下问题：如果每个员工都有即时指标，显示他们必须达到什么成果才能获得下次的晋升机会，那么会议还会如此常见吗？</p>
<p>追踪记录尤其有用之处，就是把注意力导向我们通常会避免的珍贵行动，例如重新联系旧客户，开发新的行销计划。或是那些你通常会忽略而导致职业生涯难以进展的其他各式活动。把必须采取的行动转变为指标，可以让你更有机会坚持到底，这是因为指标会带来情感层面的效果。</p>
<p>如同创投资本家 Ben Horowitz在《The Hard Thing About Hard Things？》这本著作里指出的：「指标就是诱因。」我们一旦看到自己的数字飙升，进步就会显得更具体，从而激发满意与自豪：相对之下，看见自己的指标向下坠落，则是会产生失望、挫折，甚至是羞耻的情绪。这些情感刺激绝对不是琐碎的小事，而会为我们的行动赋予心里上的分量，促使我们投注更多努力，追求更高的分数表现。</p>
<p>简单来说，指标具有激励效果，会带来更好的决定和更高的一致性，减少分心的状况，并且促成更深的情感投入。这就是计分板原则：衡量会带来进步。因此，要在任何事物上有所精进，不论是减重，习得新技能，还是精通你透过逆向工程得出的公式，第一步都必须是持续不懈地计分。</p>
<h2 id="人的大脑为什么喜欢数字"><a href="#人的大脑为什么喜欢数字" class="headerlink" title="人的大脑为什么喜欢数字"></a>人的大脑为什么喜欢数字</h2><p>如果说有哪个领域巧妙驾驭指标的力量，证明指标有多大的激励能力，那么必定是电动玩具。</p>
<p>电动玩具的开发者之所以把分数呈现在醒目可见的地方，有其充分原因，而且就算是和运动无关的电玩游戏也是如此。他们由经验得知，放上绩效指标可以大幅提高游戏娱乐性，也能嗲来竞争效果—包括在对战的玩家之间，以及想要创下个人最高记录的玩家。</p>
<p>我的好朋友Greg Erway是1980年代经典游戏《酒保》的世界纪录保持人。当初为了赢得这个头衔，他连续玩了16小时的游戏，期间完全没有停下来吃东西或上厕所。Greg付出这么多的努力，得到了什么回报？他有获得赞助商的一张大支票吗？把大奖杯搬回家了？还是赢得一大群粉丝？完全没有。Greg唯一得到的，就是知道自己在这个电动玩具当中获得了比其他人都还要高的分数排名。</p>
<p>明显可见，Greg对于电动玩具的热情远超过大多数人。不过，他的故事显示人只要认为一项指标有意义，就原因投注极大的努力去追求。</p>
<p>现在，即时绩效指标的使用已不再局限于电玩界。应用程序开发商早已深深明白指标的激励力量，因此普遍利用分数以及获取更多分数的可能性，设法影响各式各样的行为。游戏数字化的现象到处可见，你现在绝对很难找到不凸显分数的应用程序，就算那些分数没有明显存在的理由也一样。分数乃是以精明的方式送出，由此引诱并且操弄使用者拉长游戏的时间，再次回访，以及忍不住在应用程序内充值。</p>
<p>近来的实验室研究显示，就算分数和人的行为完全无关，看到总分不断升高，还是会激励人付出更多的努力并达到更高的绩效。研究人员把这种现象称为「数位推力」。实验者指出，即使是「本质上没有意义的数字」，也足以「对行为造成策略性的改变」。</p>
<p>那么，我们要怎么解释指标影响行为的力量？数字为什么会是如此引人入胜的激励力量？人类又为什么在某些时候似乎特别着迷于统计数据？</p>
<p>心理需求是原因之一。数十年来的研究显示，不论年龄，性别或文化，所有人都天生具有三项基本心里需求：归属需求，自主需求，以及胜任需求。不断升高的分数正是迎合这三项需求当中的最后一项—也就是人类对于学习，技能习得以及达成精湛技能的基本渴望。借由数字的进步以及展现成就，指标满足了我们对于成长的追求本能。</p>
<p>还有些人则是认为我们对数字的着迷来自更深层的源头，是一种在过去曾经极度重要的生存机制发展过头造成的结果。</p>
<p>Andreas Nieder是专精大脑科学的生理学教授，他专注数十年时间研究数字如何受到个钟不同物种的处理，包括人类在内。根据Nieder的说法，所有动物天生带有「数字本能」—这是一种根深蒂固的行动，目的在于寻求对自身生存与繁殖不可或缺的数字咨询。</p>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/2022/11/05/hello-world/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime mr-10" title="Update time"></i>
              2023-12-11 14:00:00
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags mr-10" title="Tags"></i>
                    
                    <span class="span--tag mr-8">
                      <a href="/tags/reading/" title="reading">
                        #reading
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
          </div>
        </div>
      
    </div>
    
  <div id="btn-catalog" class="btn-catalog">
    <i class="iconfont icon-catalog"></i>
  </div>
  <div class="post-catalog hidden" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%8F%AA%E7%94%A8%E5%8D%95%E4%B8%80%E6%8C%87%E6%A0%87%E5%BB%BA%E7%AB%8B%E5%95%86%E4%B8%9A%E5%B8%9D%E5%9B%BD"><span class="toc-text">如何只用单一指标建立商业帝国</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E5%88%86%E6%9D%BF%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-text">计分板的优点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%BA%E7%9A%84%E5%A4%A7%E8%84%91%E4%B8%BA%E4%BB%80%E4%B9%88%E5%96%9C%E6%AC%A2%E6%95%B0%E5%AD%97"><span class="toc-text">人的大脑为什么喜欢数字</span></a></li></ol>
      
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        







      </div>
    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Copyright © 2023 Oranges</a>
        
    </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="Search...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer to：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        
  
    <div class="share-icon tools-bar-item">
      <a href="javascript: void(0)" id="share-icon">
        <i class="iconfont iconshare"></i>
      </a>
      <div class="share-content hidden">
        
          <a class="share-item" href="https://twitter.com/intent/tweet?text=' + %E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B.CH3.%E8%AE%A1%E5%88%86%E6%9D%BF%E5%8E%9F%E5%88%99.md + '&url=' + http%3A%2F%2Fexample.com%2F2023%2F12%2F11%2Freverse-engineering-ch3%2F + '" target="_blank" title="Twitter">
            <i class="iconfont icon-twitter"></i>
          </a>
        
        
          <a class="share-item" href="https://www.facebook.com/sharer.php?u=http://example.com/2023/12/11/reverse-engineering-ch3/" target="_blank" title="Facebook">
            <i class="iconfont icon-facebooksquare"></i>
          </a>
        
      </div>
    </div>
  
  
<script src="/js/shares.js"></script>



      </div>
    </div>
  </body>
</html>
